//---------------------------------------------------------------------------

#include <fmx.h>
#include <fstream>
#include <string>
#pragma hdrstop

#include "RegistrationForm.h"
//---------------------------------------------------------------------------
#pragma package(smart_init)
#pragma resource "*.fmx"
TMyRegistrationForm *MyRegistrationForm;
//---------------------------------------------------------------------------
__fastcall TMyRegistrationForm::TMyRegistrationForm(TComponent* Owner)
	: TForm(Owner)
{
}
//---------------------------------------------------------------------------

const char* convertToCharPtr(AnsiString ansiStr) {
	return ansiStr.c_str() ;
}

void __fastcall TMyRegistrationForm::SaveButtonClick(TObject *Sender)
{
	fstream myFile ;
	myFile.open("registeredUsers.txt", ios::app) ;
	if (std::strcmp(convertToCharPtr(passwordEdit->Text), convertToCharPtr(passwordConfirmEdit->Text) {

		if (myFile.is_open()) {
			AnsiString name = nameEdit->Text ;
			AnsiString email = emailEdit->Text ;
			AnsiString username = usernameEdit->Text ;
			AnsiString password = passwordEdit->Text ;

			myFile << name << "," << email << "," << username << "," << password << "\n" ;
			myFile.close() ;
			this->Close() ;
		}
	}
}
//---------------------------------------------------------------------------

